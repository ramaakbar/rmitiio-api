import{a as u,u as f,j as s,b as a,c as x,F as h,S as p,P as g}from"./index.182153c5.js";import{u as y}from"./useQuery.esm.bf87a3ed.js";const N="http://127.0.0.1:4000/api",c=u.create({baseURL:N,withCredentials:!0}),P=async({username:e="",pageParam:t=""})=>(await c.get(`/${e}/posts?cursor=${t}`)).data,b=async e=>(await c(`/users/${e}`)).data,v=(e,t)=>f({queryKey:["posts",e],queryFn:({pageParam:r})=>P({username:e,pageParam:r}),getNextPageParam:r=>r.pagination.nextCursor,enabled:!!t}),U=e=>y({queryKey:["user",e],queryFn:()=>b(e)});function F({user:e}){return s("div",{className:"mb-5 border-b pb-5",children:a("div",{className:"flex flex-col items-center space-y-2",children:[s("img",{src:"./placeholder_profile.jpeg",alt:"",className:"h-16 w-16 rounded-full"}),a("h3",{className:"text-lg font-bold text-grey-900",children:["@",e.username]}),a("div",{className:"flex space-x-5",children:[a("div",{className:"flex flex-col items-center",children:[s("span",{className:"text-grey-600",children:"Posts"}),s("span",{className:"font-bold text-grey-900",children:"10"})]}),a("div",{className:"flex flex-col items-center",children:[s("span",{className:"text-grey-600",children:"Comments"}),s("span",{className:"font-bold text-grey-900",children:"10"})]}),a("div",{className:"flex flex-col items-center",children:[s("span",{className:"text-grey-600",children:"Likes"}),s("span",{className:"font-bold text-grey-900",children:"10"})]})]})]})})}function w(){const{username:e}=x(),{data:t,status:r}=U(e),{data:n,status:l,fetchNextPage:i,hasNextPage:o,isFetching:d,isFetchingNextPage:m}=v(e,t==null?void 0:t.data);return a(h,{children:[r==="loading"?s("div",{className:"flex justify-center",children:s(p,{})}):t?s(F,{user:t.data}):s("div",{className:"px-4",children:"user not found"}),n&&s(g,{posts:n,status:l,fetchNextPage:i,isFetching:d,hasNextPage:o,isFetchingNextPage:m})]})}export{w as default};
